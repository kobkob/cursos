Kokob - DiÃ¡logo com o futuro

CURSO DE
PERL/BÃ¡sico

Autor: Ricardo Filipo
rfilipo@kobkob.org
Junho de 2018

Curso de PERL

www.kobkob.org

Copyright (c) 2000, 2018 Ricardo Filipo.
Permission is granted to copy, distribute and/or modify this document under the terms of the GNU Free
Documentation License, Version 1.1 or any later version published by the Free Software Foundation; with the
Invariant Sections being LIST THEIR TITLES, with the Frontâˆ’Cover Texts being LIST, and with the Backâˆ’
Cover Texts being LIST.
A copy of the license is included in the section entitled "GNU Free Documentation License".
Copyright (c) 2000, Ricardo Filipo
E garantida a permissÃ£o para copiar, distribuir e/ou modificar este documento sob os termos da GNU Free Documentation License,
versÃ£o 1.1 ou qualquer outra versÃ£o posterior publicada pela Free Software Foundation; sem obrigatoriedade de SeÃ§Ãµes Invariantes na
abertura e ao final dos textos.
Uma copia da licenÃ§a deve ser incluÃ­da na seÃ§Ã£o intitulada GNU Free Documentation License.

Curso de PERL âˆ’

www.kobkob.org

âˆ’

PÃ¡gina 2

Kobkob

Indice
PARA OS APRESSADOS
USOS DO PERL
COMO OBTER O PERL
COMO INSTALAR O PERL
COMO EXECUTAR OS SCRIPTS PERL
OpÃ§Ãµes na linha de comando
FUNDAMENTOS DA LINGUAGEM
NotaÃ§Ã£o
Blocos
Tipos
Controle de fluxo
VariÃ¡veis especiais
Perl OO
Arquivos âˆ’ leitura e escrita
Subrotinas
Bibliotecas
USANDO O PERL NA INTERNET
CabeÃ§alho do HTTP
VariÃ¡veis de ambiente
Lendo um <form>
MÃ³dulo CGI
ADMINISTRANDO BANCOS DE DADOS
MÃ³dulo DB_File
INTERFACE GRÃFICA
MÃ³dulo perlTk
IntegraÃ§Ã£o com outras linguagens
SOBRE O AUTOR
CONTROLE DE VERSÃ•ES
GNU FREE DOCUMENTATION LICENSE

Curso de PERL âˆ’

www.kobkob.org

âˆ’

PÃ¡gina 3

Kobkob

Para os apressados
Com o desenvolvimento das facilidades de programaÃ§Ã£o para a Internet, como PHP, ASP e outras
coisas, vÃ¡rias pessoas tem me perguntado: Para que serve o Perl, afinal? Tenho escutado
comentÃ¡rios sobre a obsolescencia da linguagem frente a estas outras, muito mais modernas (serÃ¡
mesmo?).
Talvez seja verdade que para algumas aplicaÃ§Ãµes nÃ£o seja preciso usar o Perl. Mas sem dÃºvida
todas as coisas que se faz com outras linguagens poderiam ser feitas usando Perl, talvez com
mais poder, versatilidade e facilidade. No lado do servidor, cÃ³digos incrustrados no documento em
HTML, tipo PHP ou ASP podem ser implementados com o mÃ³dulo do Apache mod_perl. No lado
do cliente, com funÃ§Ãµes muito parecidas com o javascript o vbscript hÃ¡ o perlscript, um plugin para
navegadores como Netscape e Explorer. E como o Perl Ã© uma linguagem de uso geral, aplicaÃ§Ãµes
para desktop, softwares de produtividade, gerenciadores de bancos de dados, interfaces grÃ¡ficas,
programÃ§Ã£o de sockets, clientes e servidores para Internet, CGI, etc. podem ser desenvolvidos
rapidamente..
Nesta apostila procuramos apresentar o Perl de uma forma bem abrangente, permitindo uma
primeira experiÃªncia com o ambiente em suas principais e mais comuns aplicaÃ§Ãµes.
Para um aprofundamento dos conceitos aqui apresentados podem ser usados os comandos
/> man perl
Deve ser lido ainda:
/> man perlfaq
Para ler a documentaÃ§Ã£o de um mÃ³dulo:
/> perldoc nomeâˆ’doâˆ’modulo

Curso de PERL âˆ’

www.kobkob.org

âˆ’

PÃ¡gina 4

Kobkob

Usos do Perl

Internet
AdministraÃ§Ã£o de servidores
Software em geral
Bancos de Dados
Perl (Practical Extraction and Report Language) Ã© um ambiente de programaÃ§Ã£o de uso geral, de
alto nÃ­vel e fÃ¡cil aprendizagem, implementÃ¡vel nas principais plataformas (quase todas as
distribuiÃ§Ãµes de UNIX trazem o Perl como padrÃ£o do sistema. As versÃµes para Windows e Mac
tambÃ©m sÃ£o perfeitas, aproveitando as caracterÃ­sticas destas plataformas). Possui recursos
poderosos para processamento de strings, interaÃ§Ã£o com o sistema operacional e com a rede,
alÃ©m de facilidades como gerenciamento automÃ¡tico de memÃ³ria e casting inteligente e automÃ¡tico
de tipos.
Apesar de se apresentar como uma linguagem de scripts, seus executÃ¡veis funcionam compilados
em tempo real, sendo rÃ¡pidos e poderosos. Esta caracterÃ­stica facilita muito o trabalho do
programador, pois os programas podem ser desenvolvidos, modificados e testados muito
facilmente e sem a perda de tempo inerente aos procedimentos de compilaÃ§Ã£o de executÃ¡veis.
Outra grande vantagem Ã© o Perl possuir, embutido no compilador, um depurador de excelente
funcionamento.
Estes motivos tornaram o Perl a linguagem preferida para a programaÃ§Ã£o de aplicaÃ§Ãµes que rodam
em servidores da Internet. Os administradores de sistemas UNIX, em especial, precisam dominar o
ambiente, jÃ¡ que muitos utilitÃ¡rios do sistemas sÃ£o baseados em Perl ou o usam ostensivamente.
Mas a caracterÃ­stica mais importante do Perl Ã© sua condiÃ§Ã£o de "Software Livre". Os cÃ³digos, por
definiÃ§Ã£o, sendo uma linguagem de scripts, ficam "abertos". Desenvolvido inicialmente para
implementar um ambiente de catalogaÃ§Ã£o de erros, os cÃ³digos do primeiro Perl foram
disponibilizados na Internet por seu criador, Larry Wall. Uma multidÃ£o de programadores (os Perl
Porters) passaram a incorporar melhorias Ã  linguagem, tornandoâˆ’a completa.

Curso de PERL âˆ’

www.kobkob.org

âˆ’

PÃ¡gina 5

Kobkob

Como obter o Perl
O Perl pode ser obtido em http://www.cpan.org ou http://www.perl.com
Utilize os seguintes comandos para baixaâˆ’lo:
/>wget http://www.perl.com
/>cd www.perl.com

Como instalar o Perl
Linux
Descompacte o Perl em qualquer diretÃ³rio, rode o utilitÃ¡rio de configuraÃ§Ã£o, compile e instale. Os
comandos para obter, descompactar e instalar o Perl, num Linux "bash" seriam:
/>tar xzvf perl.tgz
cd perl
make dep
make install
Instalando mÃ³dulos com o CPAN.
Um ou dois mÃ³dulos podem ser facilmente instalados manualmente, mas para fazer a
administraÃ§ao eficiente do sistema perl residente em uma mÃ¡quina serÃ¡ preciso usar o mÃ³dulo
CPAN (Comprehensive Perl Archive Network).
O mÃ³dulo CPAN pode buscar mÃ³dulos nos "site mirror" do CPAN e desempacotÃ¡âˆ’los em um
diretÃ³rio dedicado.
O mÃ³dulo de CPAN tambÃ©m implementa o conceito de nome ou versÃ£o de mÃ³dulos empacotados.
Pacotes simplificam o gerenciamento e manutenÃ§Ã£o de sistemas de mÃ³dulos relacionados..

Digite na linha de comando:
/> perl âˆ’MCPAN âˆ’e shell
Isto carregarÃ¡ o shell do CPAN, permitindo interaÃ§Ãµes. O Modo interativo do CPAN permite a fÃ¡cil
realizaÃ§Ã£o de algumas tarefas:
Para ajuda digite h ou ?.
Procurando os autores, pacotes, distribuiÃ§Ã£o arquivos e mÃ³dulos:
Existe um comando de uma Ãºnica letra: â€˜a â€™, â€˜b â€™ (de "bundle"), â€˜d â€™, e â€˜mâ€™, para cada uma das quatro
categorias e outro, â€˜i â€™ para quaisquer destas.
Podem ser usados como argumentos qualquer texto ou expressÃ£o regular (estas entre "/" e "/")

Curso de PERL âˆ’

www.kobkob.org

âˆ’

PÃ¡gina 6

Kobkob

Se desejar ler o arquivo README sobre algum modulo que contenha o texto "xml", digite:
cpan> readme /xml/
make, test, install, clean, mÃ³dulos ou distribuiÃ§Ãµes
Estes comandos levam qualquer nÃºmero de argumentos e investigam o que Ã© necessÃ¡rio para
executar a aÃ§Ã£o. Se o argumento Ã© o nome de um arquivo de distribuiÃ§Ã£o, este Ã© processado. Se Ã©
um mÃ³dulo, CPAN determina o arquivo de distribuiÃ§Ã£o no qual este mÃ³dulo Ã© incluÃ­do e o
processa. Se existirem dependÃªncias, estas sÃ£o resolvidas.
Exemplo:
cpan> install OpenGL
OpenGL is up to date.
cpan> force install OpenGL
Running make
OpenGLâˆ’0.4/
OpenGLâˆ’0.4/COPYRIGHT
[...]

Como executar os scripts Perl
UNIX
Para rodar o script "oi_turma", que estÃ¡ no diretÃ³rio atual digite no shell:
>perl ./oi_turma
Ã‰ possÃ­vel fazer do script Perl um executÃ¡vel. Basta seguir os passos:
1 âˆ’ Acrescentar o comando abaixo na primeira linha do script:
#!/usr/bin/perl
Substitua o caminho por outro que indique a localizaÃ§Ã£o do executÃ¡vel Perl em sua plataforma, ou
crie um alias para o mesmo para o caminho indicado no comando acima.
2 âˆ’ Mude a permissÃ£o do script para que possa ser executado pelo usuÃ¡rio corrente:
>chmod +x ./oi_turma

Curso de PERL âˆ’

www.kobkob.org

âˆ’

PÃ¡gina 7

Kobkob

OpÃ§Ãµes na linha de comando
Os argumentos passados pela linha de comando que contem sÃ³ uma letra podem ser agrupados
Exemplo:
#! /usr/bin/perl âˆ’spi.bak
Ã© igual a:
#! /usr/bin/perl âˆ’s âˆ’p âˆ’i.bak
As opÃ§Ãµes mais comuns sÃ£o:
âˆ’d
âˆ’w
âˆ’e

carrega o depurador Perl
o Perl imprimirÃ¡ em STDERR todos os avisos (sintaxe, variÃ¡veis nÃ£o inicializadas, etc).
executa o proximo argumento (entre aspas).

Um uso muito Ãºtil para o perl seria trocar todas as ocorrÃªncias de um texto por outro, em
determinados arquivos, salvando um backup destes.
/> perl âˆ’p âˆ’i.bak âˆ’e "s/texto antigo/novo texto/g" *.html
Isto pode ser uma soluÃ§Ã£o fantÃ¡stica se vocÃª precisar consertar um link quebrado, presente em
centenas de arquivos.

Fundamentos da linguagem
O Perl Ã© um ambiente de programaÃ§Ã£o muito poderoso, mas a linguagem Ã© de fÃ¡cil aprendizagem.
Apresenta caracterÃ­sticas muito parecidas com C, sed, awk, basic e shell do UNIX.
Suas melhores caracterÃ­sticas estÃ£o relacionadas ao tratamento automÃ¡tico da memÃ³ria,
conversÃ£o automÃ¡tica de tipos e Ã  grande facilidade no processamento de texto.
Entretanto quem nÃ£o tem experiÃªncia em UNIX ou sed, awk e shell poderÃ¡ encontrar alguma
dificuldade com a assimilaÃ§Ã£o de alguns poderosos recursos.
NotaÃ§Ã£o
O Perl possui um esquema de notaÃ§Ã£o que se aproxima muito do usado em "C", possuindo ainda
diversas caracterÃ­sticas do Basic, awk e sed. A estrutura de inicializaÃ§Ã£o do programa assume algo
muito prÃ³ximo do Pascal. Com o uso dos mÃ³dulos, entretanto, o Perl pode assumir a feiÃ§Ã£o de
outras linguagens, como Tk ou Lisp.
Como em C, no Perl os comandos precisam ser terminados com um ";" (ponto e vÃ­rgula).
ComentÃ¡rios precisam ser precedidos por "#" (sustenido). Exemplo:
# O comando abaixo imprime uma saudaÃ§Ã£o
print "Oi, turma!/n";
Curso de PERL âˆ’

www.kobkob.org

âˆ’

PÃ¡gina 8

Kobkob

Como vocÃª pode observar, o texto a ser impresso deve estar envolvido pelas aspas (simples ou
duplas). O caracter de nova linha Ã© representado pelo escape: "/n".
NÃ£o existe necessidade de se manter o comando em uma Ãºnica linha. O escape "/n" poderia ser
substituÃ­do pelo caracter literal de nova linha, dentro das aspas. O comando abaixo teria efeito
idÃªntico:
print
" Oi, turma!
"
;

Blocos
Os trechos do programa podem ser dispostos em blocos:
do {
print "Oi, turma!\n";
}
print "Oi, de novo";

Tipos
O Perl define 3 tipos de dados: escalares, arrays e hashs.

Escalares:
Precedidos por um cifrÃ£o ($), exemplo: $escalar.
Os escalares podem ser nÃºmeros, strings e referÃªncias. O compilador saberÃ¡ diferenciar que
operaÃ§Ã£o realizar, em cada caso. Na dÃºvida o valor serÃ¡ considerado um string, ou este "casting"
se processarÃ¡ automaticamente. Da mesma forma um escalar numÃ©rio interpolado em um string
assumirÃ¡ o tipo string Exemplo:
$numero = 5;
print "Digite um numero:"
$input=getc();
$soma = $numero + $input;
$string = "Valores:\n numero digitado: $input\n a somar com:$numero \nsoma:$soma\n;"
NÃºmeros
Inteiros, precisÃ£o dupla, com ou sem sinal, notaÃ§Ã£o cientÃ­fica, decimal, hexa, octal, binÃ¡rio.

Curso de PERL âˆ’

www.kobkob.org

âˆ’

PÃ¡gina 9

Kobkob

Strings
SequÃªncias de caracteres. Em sua forma literal devem ser delimitadas por aspas simples (â€™) ou
duplas ("). Strings delimitadas por aspas duplas podem conter variÃ¡veis interpoladas ou caracteres
especiais, usando a barra de escape.
Exemplo:
$variavel= "Cyber";
$aspas_simples = â€™Interatividade?\nChame o $variavel.â€™;
$aspas_duplas = "Interatividade?\nChame o $variavel.";
print $aspas_simples;
print "\nâˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’\n";
print $aspas_duplas, "\n";
Isto imprimirÃ¡ na tela:
Interatividade?\nChame o $variavel.
âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’
Interatividade?
Chame o Cyber
Repare que o Ãºltimo comando "print" usa uma vÃ­rgula para separar os seus dois argumentos: o
escalar $aspas_duplas e o string literal "\n". Se for preciso, entretanto, colocar uma aspa simples
numa string delimitada por aspas simples, serÃ¡ necessÃ¡rio usar um escape antes desta (\â€™).
ReferÃªncias
O equivalente aos ponteiros. Podem ser referenciados escalares, arrays, hashs, funÃ§Ãµes, classes,
objetos, etc. Mais Ã  frente nesta apostila este assunto serÃ¡ tratado om mais profundidade.

Arrays
Precedidos por um arroba (@). Exemplo: @Array
Armazena listas de escalares. Cada elemento da lista pode ser lido usandoâˆ’se o seu Ã­ndice
numÃ©rico entre colchetes. O Ã­ndice do primeiro elemento Ã© 0.
Listas
SÃ£o coleÃ§Ãµes de escalares. Listas de literais ou variÃ¡veis podem ser construÃ­das com os elementos
separados por vÃ­rgulas e envolvidos por parÃªnteses. Listas podem ser atribuÃ­das a arrays ou a
listas de variÃ¡veis.
Exemplo:
@Array = (â€™textoâ€™,$foo,8,"var interpolada: $foo");
Uma lista de literais pode ser atribuida a uma lista de variÃ¡veis:
($ouro, $prata, $bronze) = ("dourado", "prateado", "bronzeado");
Podemos atribuir um array a uma lista de variÃ¡veis escalares:

Curso de PERL âˆ’

www.kobkob.org

âˆ’

PÃ¡gina 10

Kobkob

@Agora = gmtime;
($dia,$mes,$ano..)=@Agora;
Acessando os elementos do array usando o indice numÃ©rico:
print $Agora(0);
Acessando os elementos do array usando o comando "foreach":
foreach $elemento (@Agora){
print $elemento;
}
Atribuindoâˆ’se um array a uma variÃ¡vel escalar, estaremos passando o tamanho do array, um
inteiro.
$tamanho=@Agora;
print $tamanho;
Isto imprimirÃ¡ na tela:
3

Hashs
SÃ£o coleÃ§Ãµes de escalares referenciados por uma chave definida como outro escalar (string). SÃ£o
precedidos pelo sinal de percentagem (%).
Exemplo: %Hash
Podemos acessar e modificar cada par chave e valor usando as palavras reservadas key e value
ou as outras notaÃ§Ãµes alternativas.
keys %Hash=(fruta,massa,liquido);
values %Hash=("pera", "lazanha", "vinho");
O comando abaixo produziria o mesmo efeito:
%Hash=(
fruta=>pera,
massa=>lazanha,
liquido=>vinho
);
Ou ainda:
%Hash=(fruta,pera,massa,lazanha,liquido,vinho);
Para acessar os dados de um hash precisamos usar a palavraâˆ’chave entre chaves ("{" e "}")
Exemplo:
print $Hash{"fruta");
Curso de PERL âˆ’

www.kobkob.org

âˆ’

PÃ¡gina 11

Kobkob

Este comando imprimirÃ¡:
pera/>_
O prompt aparecerÃ¡ logo apÃ³s a palavra pera porque nÃ£o incluimos o caracter "\n".
Podemos imprimir todo o Hash com os comandos:
foreach $chave (keys %Hash) {
print "$chave : $Hash{$chave}\n";
}

Controle de fluxo
O Perl usa as mesmas palavras reservadas que o C para o controle dos blocos de programa e
algumas proprias, como foreach.
if elsif
Exemplo:
$foo=0;
if ( $foo < 10 ) {
print("$foo Ã© menor que 10\n");
$foo++;
} elsif ( $foo < 10 ) {
print("$foo Ã© menor que 10\n");
$foo++;
} elsif ( $foo < 10 ) {
print("$foo Ã© menor que 10\n");
$foo++;
} elsif ( $foo < 10 ) {
print("$foo Ã© menor que 10\n");
$foo++;
} elsif ( $foo < 10 ) {
print("$foo Ã© menor que 10\n");
$foo++;
} elsif ( $foo < 10 ) {
print("$foo Ã© menor que 10\n");
$foo++;
} elsif ( $foo < 10 ) {
print("$foo Ã© menor que 10\n");
$foo++;
} elsif ( $foo < 10 ) {
print("$foo Ã© menor que 10\n");
$foo++;
} elsif ( $foo < 10 ) {
print("$foo Ã© menor que 10\n");
$foo++;
} elsif ( $foo < 10 ) {
Curso de PERL âˆ’

www.kobkob.org

âˆ’

PÃ¡gina 12

Kobkob

print("$foo Ã© menor que 10\n");
$foo++;
} else {
print "Ops! $foo Ã© igual a 10!!!\n";
}

while
Exemplo:
$foo=0;
while ( $foo < 10 ) {
print("$foo Ã© menor que 10\n");
$foo++;
{
print "Ops! $foo Ã© igual a 10!!!\n";

for
Exemplo:
for ( $foo=0;$foo < 10 ;$foo++;) {
print("$foo Ã© menor que 10\n");
}
print "Ops! $foo Ã© igual a 10!!!\n";

foreach
Exemplo:
@foo=(0,1,2,3,4,5,6,7,8,9);
foreach $foo(@foo) {
print("$foo Ã© menor que 10\n");
}
$foo=10;
print "Ops! $foo Ã© igual a 10!!!\n";

goto label
Exemplo:
print "Isto serÃ¡ impresso\n";
goto Fim;
print "Isto nunca serÃ¡ impresso";

Curso de PERL âˆ’

www.kobkob.org

âˆ’

PÃ¡gina 13

Kobkob

:Fim
print "Isto tambÃ©m serÃ¡ impresso\n";

VariÃ¡veis especiais
O perl usa uma sÃ©rie de variÃ¡veis especiais que facilitam e otimizam o cÃ³digo. As mais importante
sÃ£o $_ e @_ que sempre se referem ao ultimo valor processado.
Exemplo:
$foo="Olha, cara!";
print;
Imprimira o valor de $foo.

Arquivos âˆ’ leitura e escrita
Handle de arquivo Ã© um container que guarda o arquivo, geralmente em forma de array
Exemplo: abrindo um arquivo para escrita:
open FILE, ">arquivo.txt";
Exemplo: abrindo um arquivo para leitura e atribuindo seu conteÃºdo a um array:
open FILE, "arquivo.txt";
@file=<FILE>;
O sinal <FOO> refereâˆ’se ao conteÃºdo do arquivo cujo handle Ã© FOO. Se for usado <> serÃ¡
acessado o conteÃºdo de STDIN.
O algoritmo abaixo le as entradas do console, atÃ© encontrar um final de arquivo (control D)
acumulando no string foo:
while (<>) {
$foo .=$_;
}
Para assuntos mais aprofundados sobre abertura e fechamento de arquivos, Ã© bom ler o tutorial
sobre arquivos, usando o man, do GNU/Linux.
/>man perlopentut

Subrotinas
Um bloco de comandos nomeado com o comando "sub" define uma subrotina ou funÃ§Ã£o. Para
executar a subrotina basta preceder seu nome pelo "&";
Exemplo:

Curso de PERL âˆ’

www.kobkob.org

âˆ’

PÃ¡gina 14

Kobkob

# O comando abaixo imprimirÃ¡ "Oi, Turma!!"
&oiturma;
sub oiturma {
print "Oi, Turma!!\n\n";
}

A subrotina retornara o valor de $_ ou @_, o ultimo a ser alterado, a menos que exista o comando
"return";
print $oi,&oiturma;
sub oiturma {
$oi="Oi, ";
return "Turma!!");
}

Bibliotecas
Podem ser carregadas bibliotecas com o comando "require". Bibliotecas sÃ£o arquivos contendo
subrotinas. O valor de retorno de um script biblioteca precisa ser 1.
Exemplo:
Arquivo executÃ¡vel
âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’
#!/usr/bin/perl
# printwindow.pl
# incluindo o arquivo que contem a rotina "janela"
require "/home/perl/rotinas/janela.pl"
# imprimindo
print &janela;
âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’
Biblioteca
âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’
#/usr/bin/perl
# janela.pl
# define palavra
sub janela{
$palavra="Window";
}
return âˆ’1;
âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’
Podemos ainda carregar mÃ³dulos usando o comando "use".
Exemplo
use CGI;
Curso de PERL âˆ’

www.kobkob.org

âˆ’

PÃ¡gina 15

Kobkob

Usando o Perl na Internet
Devido Ã s suas caracterÃ­sticas que facilitam o processamento de strings, Ã  versatilidade e
simplicidade da linguagem, a facilidade de manutenÃ§Ã£o do programa e sua velocidade de
execuÃ§Ã£o, o Perl tornouâˆ’se o ambiente preferido para o desenvolvimento de scripts para a CGI.
Em 1996 Steven E. Brenner criou a biblioteca cgiâˆ’lib.pl, que tornouâˆ’se uma espÃ©cie de padrÃ£o no
Perl 4. Atualmente, o Perl 5 oferece uma sÃ©rie de mÃ³dulos que facilitam muito o processamento de
html, forms, email, ftp, newsgrowps, XML WML entre outros.
CabeÃ§alho do HTTP 1.0
Quando um arquivo Ã© enviado para um cliente Internet (como o Netscape, por exemplo) pelo
servidor, este deve conter um cabeÃ§alho na forma mÃ­nima:
Contentâˆ’type: text/plain
Seguido de 2 caracteres de nova linha. Isto indica o typo MIME do documento, orientando o
navegador de como este deve processado.
Um exemplo usando o cabeÃ§alho completo seria:
HTTP/1.0 200 OK
Date: Thursday, 28âˆ’Juneâˆ’96 11:12:21 GMT
Server: NCSA/1.4.2
Contentâˆ’type: text/html
Contentâˆ’length: 2041

VariÃ¡veis de ambiente
A CGI usa as variÃ¡veis de ambiente na transaÃ§Ã£o de pedido e envio de arquivos para controlar e
processar algoritmos.
Temos acesso a dados do cliente que fez o pedido e a detalhes deste pedido, podeâˆ’se lidar com
os protocolos de autorizaÃ§Ã£o, "Mime Types", cookies. NÃ£o pretendemos aqui neste trabalho
aprofundar o estudo da CGI, apenas pretendemos exemplificar o uso do Perl.
Para Ter acesso Ã s varÃ¡veis do CGI, use o hash %ENV:
#!/usr/bin/perl
print "Contentâˆ’type: text/plain\n\n";
foreach $var (keys %ENV) {
print "<p>$var: $ENV{$var}\n";
}
Este programa gerou na tela no meu navegador da Internet:
SERVER_SOFTWARE: Apache/1.2.4
GATEWAY_INTERFACE: CGI/1.1
DOCUMENT_ROOT: /home/httpd/html/gallerie/html/
Curso de PERL âˆ’

www.kobkob.org

âˆ’

PÃ¡gina 16

Kobkob

REMOTE_ADDR: 172.16.1.1
SERVER_PROTOCOL: HTTP/1.1
REQUEST_METHOD: GET
REMOTE_HOST: guitar.escritorio.casa
QUERY_STRING:
HTTP_USER_AGENT: Mozilla/4.0 (LINUX)
PATH: /bin:/sbin:/usr/bin:/usr/sbin
HTTP_ACCEPT: */*
HTTP_CONNECTION: Keepâˆ’Alive
REMOTE_PORT: 2057
HTTP_ACCEPT_LANGUAGE: ptâˆ’br
SCRIPT_NAME: /cgiâˆ’bin/getenv
HTTP_ACCEPT_ENCODING: gzip, deflate
SCRIPT_FILENAME: /home/httpd/html/gallerie/cgiâˆ’bin/getenv
SERVER_NAME: gallerie.escritorio.casa
REQUEST_URI: /cgiâˆ’bin/getenv
SERVER_PORT: 80
HTTP_HOST: gallerie.escritorio.casa
SERVER_ADMIN: ricardo@gallerie.escritorio.casa
Lendo um <form>
Podemos chamar um script Perl de dentro de uma pÃ¡gina HTML que contÃ©m um <form>. O meu
Apache estÃ¡ configurado para rodar scripts no diretÃ³rio /cgiâˆ’bin/ que aponta para o diretÃ³rio real,
na mÃ¡quina: /home/httpd/cgiâˆ’bin/
O FormulÃ¡rio teria a forma:
<html><body>
<form action=http://gallerie.escritorio.casa/cgiâˆ’bin/getenv method=post>
<input name=palavra>
<input type=hidden name=escondido value="Isto jÃ¡ veio escrito...">
</form>
</body></html>
O script abaixo deve ser salvo no diretÃ³rio /home/httpd/cgiâˆ’bin/ e deve Ter permissÃ£o para
executar:
/> chmod 744 ./getenv
Note que foi usada a biblioteca cgiâˆ’lib.pl e sua rotina &ReadParse, que coloca a string "Query"
(aqui escondida pelo mÃ©todo post) no array @in:
#!/usr/bin/perl
# getenv
require "cgiâˆ’lib.pl";
&ReadParse;
print "Contentâˆ’type: text/plain\n\n";
print "Variaveis:\n";
foreach $vari(@in){
print "$vari\n";
}
Curso de PERL âˆ’

www.kobkob.org

âˆ’

PÃ¡gina 17

Kobkob

foreach $var (keys %ENV) {
print "<p>$var: $ENV{$var}\n;
}
Gerando a tela:
Variaveis:
palavra=teste
escondido=Isto j%E1 veio escrito...
SERVER_SOFTWARE: Apache/1.2.4
GATEWAY_INTERFACE: CGI/1.1
DOCUMENT_ROOT: /home/httpd/html/gallerie/html/
REMOTE_ADDR: 172.16.1.1
SERVER_PROTOCOL: HTTP/1.1
REQUEST_METHOD: POST
REMOTE_HOST: guitar.escritorio.casa
QUERY_STRING:
HTTP_USER_AGENT: Mozilla/4.0 (LINUX)
PATH: /bin:/sbin:/usr/bin:/usr/sbin
HTTP_ACCEPT: */*
HTTP_CONNECTION: Keepâˆ’Alive
REMOTE_PORT: 2059
HTTP_ACCEPT_LANGUAGE: ptâˆ’br
SCRIPT_NAME: /cgiâˆ’bin/getenv
HTTP_ACCEPT_ENCODING: gzip, deflate
SCRIPT_FILENAME: /home/httpd/html/gallerie/cgiâˆ’bin/getenv
SERVER_NAME: gallerie.escritorio.casa
REQUEST_URI: /cgiâˆ’bin/getenv
SERVER_PORT: 80
CONTENT_LENGTH: 49
CONTENT_TYPE: application/xâˆ’wwwâˆ’formâˆ’urlencoded
HTTP_HOST: gallerie.escritorio.casa
SERVER_ADMIN: ricardo@gallerie.escritorio.casa

MÃ³dulo CGI
Poderiamos escrever o mesmo programa com o mÃ³dulo CGI, gerando a saÃ­da em html. Para um
aprofundamento na questÃ£o digite:
/>perldoc CGI
Abaixo o novo script getenv:
#!/usr/bin/perl
# getenv
use CGI;
$tela=CGI::new();
print (
$telaâˆ’>header,
$telaâˆ’>start_html ( âˆ’title=>"Variaveis de Ambiente"),
$telaâˆ’>p("Variaveis:");
$telaâˆ’>dump
);
Curso de PERL âˆ’

www.kobkob.org

âˆ’

PÃ¡gina 18

Kobkob

foreach $var (keys %ENV) {
print "<p>$var: $ENV{$var}\n";
}
print $telaâˆ’>end_html;
o arquivo de retorno em meu navegador foi:
<!DOCTYPE HTML PUBLIC "âˆ’//IETF//DTD HTML//EN">
<HTML><HEAD><TITLE> Variaveis de Ambiente </TITLE>
</HEAD><BODY><P>Variaveis:</P><p>SERVER_SOFTWARE: Apache/1.2.4
<p>GATEWAY_INTERFACE: CGI/1.1
<p>DOCUMENT_ROOT: /home/httpd/html/gallerie/html/
<p>REMOTE_ADDR: 172.16.1.1
<p>SERVER_PROTOCOL: HTTP/1.1
<p>REQUEST_METHOD: POST
<p>REMOTE_HOST: guitar.escritorio.casa
<p>QUERY_STRING:
<p>HTTP_USER_AGENT: Mozilla/4.0 (LINUX)
<p>PATH: /bin:/sbin:/usr/bin:/usr/sbin
<p>HTTP_ACCEPT: */*
<p>HTTP_CONNECTION: Keepâˆ’Alive
<p>REMOTE_PORT: 2063
<p>HTTP_ACCEPT_LANGUAGE: ptâˆ’br
<p>SCRIPT_NAME: /cgiâˆ’bin/getenv
<p>HTTP_ACCEPT_ENCODING: gzip, deflate
<p>SCRIPT_FILENAME: /home/httpd/html/gallerie/cgiâˆ’bin/getenv
<p>SERVER_NAME: gallerie.escritorio.casa
<p>REQUEST_URI: /cgiâˆ’bin/getenv
<p>SERVER_PORT: 80
<p>CONTENT_LENGTH: 49
<p>CONTENT_TYPE: application/xâˆ’wwwâˆ’formâˆ’urlencoded
<p>HTTP_HOST: gallerie.escritorio.casa
<p>SERVER_ADMIN: ricardo@gallerie.escritorio.casa
</BODY></HTML>
O mÃ³dulo CGI facilita muito a formataÃ§Ã£o da pÃ¡gina, leitura e processamento de cookies, escrita de
tabelas, forms, etc.

Administrando bancos de dados
MÃ³dulo DB_File
O mÃ³dulo DB_File e a distribuiÃ§Ã£o Berkeley DB em geral estÃ¡ presente nos sistemas GNU/Linux,
mas pode ser obtida em http://www. sleepycat.com/
Podemos ligar um arquivo com dados do tipo nome:valor a um arquivo Hash. Bancos de dados
simples podem ser desenvolvidos desta forma.
Devemos usar o comando "tie" para fazer a ligaÃ§Ã£o. Exemplo:
#!/usr/bin/perl
# telefones
Curso de PERL âˆ’

www.kobkob.org

âˆ’

PÃ¡gina 19

Kobkob

use DB_File;
$caderno= tie %TEL, "DB_File", "/home/ricardo/telefones.txt";
while (TRUE){ # criando um loop:
# Menu
system("clear");
print "âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’ Agenda de Telefones âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’\n";
$lido=&Digitado("Entre com o comando: [A] Incluir [M] Mostrar Lista [S] Sair:", c);
if ($lido eq "A"){&Incluir;}
elsif ($lido eq "M"){&Mostrar;}
elsif ($lido eq "S"){&Sair;}
} # fechando o loop
sub Digitado {
my $xx, $tx;
$tx="";
print $_[0], "\n";
while ($lendo ne 1){$xx=getc; if ($xx eq "\n"){$lendo=1;}else{$tx.=$xx;} }
$lendo=0;
print "âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’> Foi lido: $tx\n";
return $tx;}
sub Incluir {
$nome=&Digitado ("Nome a incluir: ");
$tel=&Digitado("Telefone: ");
$cadernoâˆ’>put($nome, $tel);}
sub Mostrar {
foreach $nome(keys %TEL){
print "Nome: $nome\n";
print "Telefone: $TEL{$nome}\nâˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’âˆ’\n";}
&Digitado("Tecle enter para continuar");
}
sub Sair {exit(0);}
Para maiores detalhes sobre o mÃ³dulo, digite:
/>perldoc DB_File
Bancos de dados mais complexos devem usar o mÃ³dulo DBI, que servirÃ¡ de interface com
servidores SQL, como mSQL, MySQL, Oracle, postgres, etc.

Interface grÃ¡fica
MÃ³dulo perlTk
PrÃ©âˆ’requisito: Tk 4.0 ou superior instalado.
O Nosso objetivo aqui Ã© apenas apresentar o Perl/Tk. Estudos mais aprofundados dos comandos
do Tk podem ser feitos digitando:
/>perldoc Tk
O Perl/Tk Ã© usado para criar uma interface grÃ¡fica para os programas em Perl. Com este mÃ³dulo
tornaâˆ’se muito fÃ¡cil a criaÃ§Ã£o de janelas, botÃµes, scrolls, canvas, caixas de texto, etc.

Curso de PERL âˆ’

www.kobkob.org

âˆ’

PÃ¡gina 20

Kobkob

Olha o programa "oiturma" com uma interface grÃ¡fica:
#/usr/bin/perl
use Tk;
$janela=MainWindowâˆ’>new;
$janelaâˆ’>Button(
âˆ’text=>"Oi, Turma!!",
âˆ’command=>sub{exit})âˆ’>pack;
MainLoop;
Aqui Ã© importante lembrar que a interface sÃ³ serÃ¡ desenhada na tela depois do comando
"MainLoop". O mÃ©todo "pack" Ã© responsÃ¡vel pela formataÃ§Ã£o e posicionamento dos dispositivos na
janela. Existem ainda mais dois gerenciadores de geometria: grid e place.
A chamada de programa quando o botÃ£o Ã© clicado pode usar uma referÃªncia:
Exemplo:
#/usr/bin/perl
use Tk;
$janela=MainWindowâˆ’>new;
$janelaâˆ’>Button(
âˆ’text=>"Oi, Turma!!",
âˆ’command=>\&Sair)âˆ’>pack;
MainLoop;
sub Sair {
exit;
}

Curso de PERL âˆ’

www.kobkob.org

âˆ’

PÃ¡gina 21

Kobkob

Nota sobre o autor




































1





%





1

8



(





1

;







B





B

F

B

O

H

%



6

J

L









R







J

P



Q















"





L



9

#

M



















.

#



$





#

"









&



'







(























)











$





#



,

5

6



7

0





?



#







,

#





#





5

.



7





2

0

/

5



0

7











#





#

#

:



$















2

%





#

>



#









#

/









%





!

$







#



#



#



=



$













5

#









A



$

#





#











<









2













C

#

J









4





.













@

"



#

)











3











#



M





"







!







-





6





,



#

C

K

+





5











,

.

















#

5



!





























2





!











*



























9

!



I







E

G











%

%



!































*







#







#







3



"











#

D

9



#







5





0

6

5



0



6









0

N











!









C











<

C

T



?

%















0

@

U























!

S





#



%







#





























#







"



'





1









#



/

#





#



0

0

R

T



?

!

























V

0

R

6





X











#



6





X











#















"

















<

:

#



&

















,



4











5

4

@

0

W

'





"



















6





Y







/

!



!



#



=

.



#



T

,

(

<

%









3

#

4







U

6





Y





W



C

6



X



Z

#











!





5

!



?







!













%

:

/

6

#

5



C

&



3



U





?















,



?





4



























5

4



@

[







5



X

\











#









#

[



W

,













!





?

















/

+

%

T

C

3

/

<

/



6

#









#

0







#



T



?

!











3

















#

@

0

W

]
,

]



























"





!



=

.









"





!











3

!

]




?

#



"

`





5

#



<



"









A





&

A









/



X



/

#

4







!



!

#





#



+











#

#











#





U

@





U









#

"



&





&

!





!







#











!







!



?



"

#





#







T

:



^

/

?

_











@



#



+



:

^

+

/



_

U



T



U



#









\





U

U

%



U



%



a

`

a

U



>

c

]

M

%

]



3

6

U

(









U



9







:

^

/

_

<

?





9

U





0



X







Z

3







#





U

















+











A















































d





B



1

#









<









%





!



#









#



1



<

&

V



&

'







.





(



@



U



















#

Y



















A



)

















@





0











!







U

0



P



















e











L



Y



"



J



#





K









O





,



#



]

]



!



Q





#







!





N

#

i



2



!





i

U

0

(

S

b



U

0









<









/







#

C

6







%

!



#

#



j





g





e



Q

"

f



f

Q

Q

H



g

g

h

h

h

i

e



f

Q

Q

H



g

g

h

h

h

i

k



N

N

I





I

i







i

j



g



f

Q

Q

H



g

g

h

h

h

i

k



N

N

I





I

i







i

j



g

H

f

Q

Q

H



g

g

h

h

h

i

k



N

N

I





I

i







i

j



Curso de PERL âˆ’





#







f

l













#



/

#





#



+



j







Q





J

L

k



k

e



I

m

www.kobkob.org

âˆ’

PÃ¡gina 22

9

@

U



9







Kobkob
f

Q

Q

H



g

g

h

h

h

i

j

f

Q

Q

H



g

g

h

h

h

i





f

Q

Q

H



g

g

h

h

h

i



j

f

Q

Q

H



g

g

h

h

h

i



f

Q

Q

H



g

g

h

h

h

i

J

f

Q

Q

H



g

g

h

h

h

i

I

l

p

f

Q

Q

H



g

g

h

h

h

i

I

J

M

f

Q

Q

H



g

g

o

f

Q

Q

H



g

g

h

i

k

f

Q

Q

H



g

g

9

+

b

c





M



/

,





I

A

Q

i



i







i





i

i

j



f

i







N





g

j



j





i

J

k



j

















0

Q



I

5







M





!

I



i

j

0

H



e





?



M

,



5

#















M











,

7

#









#









7





#





j







j







p

i









i







i





i



N







i



Q

I

M









I



J

I

q









i







j



e







i







h



M



o

h









#







e

i



N

j









/

Q

g

e



r





N







D

$

i





k

I

_





9



i

J



j

I



M









#





[



U

#

X



%



C



#













!









4













&









'

,









2













)



(































s











?



A











!





#

&





"





#

















#



)













[





#



#







U





#



#









U





































#



!









)







#



1

&

0







d



*



!





#



0



#





-

/







#







C

?









!



?

?



!





















U

!

#

)

#



!



U

!

%







U





:





!

#

^











.





!







T





#













X

>



























M





i





l







J



?

)



h







!



N

i

N





0

2



#

4











h









\









#







#

\









\









n









n

k

'















!





/

#

X







Y





!



4





















#

)

&









&







!





#

%





#













&





X

'

\











(





!





























!



0

t











#



"











`

5

`





w



















U

[

%

X







!

*







#











#













!

























A















U













#





















!



!

X

)













!













=

#



u

















#









!

!









#





$









#















#

U











!















&



















u











U









!



0

+

!





v







!

U





























U







#









"





0

!













`

$

&



!



C





#







$

9

1

?









5







[





#

!









!





`





`



A



V



U



Y

A









#















!









#







>



>













u









!













A









3





#



$









"

U



7







#











U



!





1

E

0

0

#

=











"





&











S



x

3

*

0

Ricardo Filipo
rfelipo@cipsga.org.br
r@w3c.com.br
Gallerie
http://www.gallerie.com.br

Curso de PERL âˆ’

www.kobkob.org

âˆ’

PÃ¡gina 23

Kobkob

Controle de versÃµes
Data
Autor
ObservaÃ§Ãµes
01/11/1999 Ricardo Filipo Texto inicial
11/06/00 Ricardo Filipo Apostila disponibilizada sobre a FDL para o CIPSGA.

Curso de PERL âˆ’

www.kobkob.org

âˆ’

PÃ¡gina 24

Kobkob

GNU Free Documentation License
Version 1.1, March 2000
Copyright (C) 2000 Free Software Foundation, Inc.
59 Temple Place, Suite 330, Boston, MA 02111âˆ’1307 USA
Everyone is permitted to copy and distribute verbatim copies
of this license document, but changing it is not allowed.
0. PREAMBLE
The purpose of this License is to make a manual, textbook, or other written document "free" in the sense of
freedom: to assure everyone the effective freedom to copy and redistribute it, with or without modifying it,
either commercially or noncommercially. Secondarily, this License preserves for the author and publisher a
way to get credit for their work, while not being considered responsible for modifications made by others.
This License is a kind of "copyleft", which means that derivative works of the document must themselves be
free in the same sense. It complements the GNU General Public License, which is a copyleft license designed
for free software.
We have designed this License in order to use it for manuals for free software, because free
software needs free documentation: a free program should come with manuals providing the same freedoms
that the software does. But this License is not limited to software manuals; it can be used for any textual work,
regardless of subject matter or whether it is published as a printed book. We recommend this License
principally for works whose purpose is instruction or reference.
1. APPLICABILITY AND DEFINITIONS
This License applies to any manual or other work that contains a notice placed by the copyright holder saying it
can be distributed under the terms of this License. The "Document", below, refers to any such manual or work.
Any member of the public is a licensee, and is addressed as "you".
A "Modified Version" of the Document means any work containing the Document or a portion of it, either
copied verbatim, or with modifications and/or translated into another language.
A "Secondary Section" is a named appendix or a frontâˆ’matter section of the Document that deals exclusively
with the relationship of the publishers or authors of the Document to the Documentâ€™s overall subject (or to
related matters) and contains nothing that could fall directly within that overall subject. (For example, if the
Document is in part a textbook of mathematics, a Secondary Section may not explain any mathematics.) The
relationship could be a matter of historical connection with the subject or with related matters, or of legal,
commercial, philosophical, ethical or political position regarding them.
The "Invariant Sections" are certain Secondary Sections whose titles are designated, as being those of
Invariant Sections, in the notice that says that the Document is released under this License.
The "Cover Texts" are certain short passages of text that are listed, as Frontâˆ’Cover Texts or
Backâˆ’Cover Texts, in the notice that says that the Document is released under this License.
A "Transparent" copy of the Document means a machineâˆ’readable copy, represented in a format whose
specification is available to the general public, whose contents can be viewed and edited directly and
straightforwardly with generic text editors or (for images composed of pixels) generic paint programs or (for
drawings) some widely available drawing editor, and that is suitable for input to text formatters or for automatic
translation to a variety of formats suitable for input to text formatters. A copy made in an otherwise Transparent
file format whose markup has been designed to thwart or discourage subsequent modification by readers is not
Transparent. A copy that is not "Transparent" is called "Opaque".
Examples of suitable formats for Transparent copies include plain ASCII without markup, Texinfo input format,
LaTeX input format, SGML or XML using a publicly available DTD, and
standardâˆ’conforming simple HTML designed for human modification. Opaque formats include PostScript,
PDF, proprietary formats that can be read and edited only by proprietary word processors, SGML or XML for
Curso de PERL âˆ’

www.kobkob.org

âˆ’

PÃ¡gina 25

Kobkob
which the DTD and/or processing tools are not generally available, and the machineâˆ’generated HTML
produced by some word processors for output purposes only.
The "Title Page" means, for a printed book, the title page itself, plus such following pages as are needed to
hold, legibly, the material this License requires to appear in the title page.
For works in formats which do not have any title page as such, "Title Page" means the text near the most
prominent appearance of the workâ€™s title, preceding the beginning of the body of the text.
2. VERBATIM COPYING
You may copy and distribute the Document in any medium, either commercially or noncommercially, provided
that this License, the copyright notices, and the license notice saying this License applies to the Document are
reproduced in all copies, and that you add no other conditions whatsoever to those of this License. You may
not use technical measures to obstruct or control the reading or further copying of the copies you make or
distribute. However, you may accept compensation in exchange for copies. If you distribute a large enough
number of copies you must also follow the conditions in section 3.
You may also lend copies, under the same conditions stated above, and you may publicly display copies.
3. COPYING IN QUANTITY
If you publish printed copies of the Document numbering more than 100, and the Documentâ€™s license notice
requires Cover Texts, you must enclose the copies in covers that carry, clearly and legibly, all these Cover
Texts: Frontâˆ’Cover Texts on the front cover, and Backâˆ’Cover Texts on the back cover. Both covers must also
clearly and legibly identify you as the publisher of these copies. The front cover must present the full title with
all words of the title equally prominent and visible. You may add other material on the covers in addition.
Copying with changes limited to the covers, as long as they preserve the title of the Document and satisfy
these conditions, can be treated as verbatim copying in other respects.
If the required texts for either cover are too voluminous to fit legibly, you should put the first ones listed (as
many as fit reasonably) on the actual cover, and continue the rest onto
adjacent pages.
If you publish or distribute Opaque copies of the Document numbering more than 100, you must either include
a machineâˆ’readable Transparent copy along with each Opaque copy, or state in or with each Opaque copy a
publiclyâˆ’accessible computerâˆ’network location containing a complete Transparent copy of the Document, free
of added material, which the general networkâˆ’using public has access to download anonymously at no charge
using publicâˆ’standard network protocols. If you use the latter option, you must take reasonably prudent steps,
when you begin distribution of Opaque copies in quantity, to ensure that this Transparent copy will remain thus
accessible at the stated location until at least one year after the last time you distribute an Opaque copy
(directly or through your agents or retailers) of that edition to the public.
It is requested, but not required, that you contact the authors of the Document well before redistributing any
large number of copies, to give them a chance to provide you with an updated version of the Document.
4. MODIFICATIONS
You may copy and distribute a Modified Version of the Document under the conditions of sections 2 and 3
above, provided that you release the Modified Version under precisely this License, with the Modified Version
filling the role of the Document, thus licensing distribution and modification of the Modified Version to whoever
possesses a copy of it. In addition, you must do these things in the Modified Version:

A. Use in the Title Page (and on the covers, if any) a title distinct from that of the Document, and from those
of previous versions (which should, if there were any, be listed in the History section of the Document).
You may use the same title as a previous version if the original publisher of that version gives permission.
B. List on the Title Page, as authors, one or more persons or entities responsible for authorship of the
modifications in the Modified Version, together with at least five of the principal authors of the Document
(all of its principal authors, if it has less than five).

Curso de PERL âˆ’

www.kobkob.org

âˆ’

PÃ¡gina 26

Kobkob
C. State on the Title page the name of the publisher of the Modified Version, as the publisher.
D. Preserve all the copyright notices of the Document.
E. Add an appropriate copyright notice for your modifications adjacent to the other copyright notices.
F. Include, immediately after the copyright notices, a license notice giving the public permission to use the
Modified Version under the terms of this License, in the form shown in the Addendum below.

G. Preserve in that license notice the full lists of Invariant Sections and required Cover Texts given in the
Documentâ€™s license notice.
H. Include an unaltered copy of this License.
I.

Preserve the section entitled "History", and its title, and add to it an item stating at least the title, year, new
authors, and publisher of the Modified Version as given on the Title Page. If there is no section entitled
"History" in the Document, create one stating the title, year, authors, and publisher of the Document as
given on its Title Page, then add an item describing the Modified Version as stated in the previous
sentence.

J.

Preserve the network location, if any, given in the Document for public access to a Transparent copy of the
Document, and likewise the network locations given in the Document for previous versions it was based
on. These may be placed in the "History" section. You may omit a network location for a work that was
published at least four years before the Document itself, or if the original publisher of the version it refers to
gives permission.

K. In any section entitled "Acknowledgements" or "Dedications", preserve the sectionâ€™s title, and preserve in
the section all the substance and tone of each of the contributor acknowledgements and/or dedications
given therein.
L. Preserve all the Invariant Sections of the Document, unaltered in their text and in their titles. Section
numbers or the equivalent are not considered part of the section titles.
M. Delete any section entitled "Endorsements". Such a section may not be included in the Modified Version.
N. N. Do not retitle any existing section as "Endorsements" or to conflict in title with any Invariant Section.
O. If the Modified Version includes new frontâˆ’matter sections or appendices that qualify as Secondary
Sections and contain no material copied from the Document, you may at your option designate some or all
of these sections as invariant. To do this, add their titles to the list of Invariant Sections in the Modified
Versionâ€™s license notice. These titles must be distinct from any other section titles.
You may add a section entitled "Endorsements", provided it contains nothing but endorsements of your
Modified Version by various partiesâˆ’âˆ’for example, statements of peer review or that the text has been
approved by an organization as the authoritative definition of a standard.
You may add a passage of up to five words as a Frontâˆ’Cover Text, and a passage of up to 25 words as a
Backâˆ’Cover Text, to the end of the list of Cover Texts in the Modified Version. Only one passage of Frontâˆ’
Cover Text and one of Backâˆ’Cover Text may be added by (or through arrangements made by) any one entity.
If the Document already includes a cover text for the same cover, previously added by you or by arrangement
made by the same entity you are acting on behalf of, you may not add another; but you may replace the old
one, on explicit permission from the previous publisher that added the old one.
The author(s) and publisher(s) of the Document do not by this License give permission to use their names for
publicity for or to assert or imply endorsement of any Modified Version.
5. COMBINING DOCUMENTS
You may combine the Document with other documents released under this License, under the terms defined in
section 4 above for modified versions, provided that you include in the combination all of the Invariant Sections
Curso de PERL âˆ’

www.kobkob.org

âˆ’

PÃ¡gina 27

Kobkob
of all of the original documents, unmodified, and list them all as Invariant Sections of your combined work in its
license notice.
The combined work need only contain one copy of this License, and multiple identical Invariant Sections may
be replaced with a single copy. If there are multiple Invariant Sections with the same name but different
contents, make the title of each such section unique by adding at the end of it, in parentheses, the name of the
original author or publisher of that section if known, or else a unique number. Make the same adjustment to the
section titles in the list of Invariant Sections in the license notice of the combined work.
In the combination, you must combine any sections entitled "History" in the various original documents, forming
one section entitled "History"; likewise combine any sections entitled "Acknowledgements", and any sections
entitled "Dedications". You must delete all sections entitled "Endorsements."
6. COLLECTIONS OF DOCUMENTS
You may make a collection consisting of the Document and other documents released under this License, and
replace the individual copies of this License in the various documents with a single copy that is included in the
collection, provided that you follow the rules of this License for verbatim copying of each of the documents in
all other respects.
You may extract a single document from such a collection, and distribute it individually under this License,
provided you insert a copy of this License into the extracted document, and follow this License in all other
respects regarding verbatim copying of that document.
7. AGGREGATION WITH INDEPENDENT WORKS
A compilation of the Document or its derivatives with other separate and independent documents or works, in
or on a volume of a storage or distribution medium, does not as a whole count as a Modified Version of the
Document, provided no compilation copyright is claimed for the compilation. Such a compilation is called an
"aggregate", and this this License does not apply to the other selfâˆ’contained works thus compiled with the
Document, on account of their being thus compiled, if they are not themselves derivative works of the
Document. If the Cover Text requirement of section 3 is applicable to these copies of the Document, then if the
Document is less than one quarter of the entire aggregate, the Documentâ€™s Cover Texts may be placed on
covers that surround only the Document within the aggregate. Otherwise they must appear on covers around
the whole aggregate.
8. TRANSLATION
Translation is considered a kind of modification, so you may distribute translations of the
Document under the terms of section 4. Replacing Invariant Sections with translations requires especial
permission from their copyright holders, but you may include translations of some or all Invariant Sections in
addition to the original versions of these Invariant Sections. You may include a translation of this License
provided that you also include the original English version of this License. In case of a disagreement between
the translation and the original English version of this License, the original English version will prevail.

Curso de PERL âˆ’

www.kobkob.org

âˆ’

PÃ¡gina 28

Kobkob

9. TERMINATION
You may not copy, modify, sublicense, or distribute the Document except as expressly provided for under this
License. Any other attempt to copy, modify, sublicense or distribute the Document is void, and will
automatically terminate your rights under this License. However, parties who have received copies, or rights,
from you under this License will not have their licenses terminated so long as such parties remain in full
compliance.
10. FUTURE REVISIONS OF THIS LICENSE
The Free Software Foundation may publish new, revised versions of the GNU Free Documentation License
from time to time. Such new versions will be similar in spirit to the present version, but may differ in detail to
address new problems or concerns. See http://www.gnu.org/copyleft/.
Each version of the License is given a distinguishing version number. If the Document specifies that a
particular numbered version of this License "or any later version" applies to it, you have the option of following
the terms and conditions either of that specified version or of any later version that has been published (not as
a draft) by the Free Software Foundation. If the Document does not specify a version number of this License,
you may choose any version ever published (not as a draft) by the Free Software Foundation.

How to use this License for your documents.
To use this License in a document you have written, include a copy of the License in the document and put the
following copyright and license notices just after the title page:

Copyright (c) YEAR YOUR NAME.
Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.1
or any later version published by the Free Software Foundation;
with the Invariant Sections being LIST THEIR TITLES, with the
Frontâˆ’Cover Texts being LIST, and with the Backâˆ’Cover Texts being LIST.
A copy of the license is included in the section entitled "GNU
Free Documentation License".
If you have no Invariant Sections, write "with no Invariant Sections" instead of saying which
ones are invariant. If you have no Frontâˆ’Cover Texts, write "no Frontâˆ’Cover Texts" instead of "Frontâˆ’Cover
Texts being LIST"; likewise for Backâˆ’Cover Texts.
If your document contains nontrivial examples of program code, we recommend releasing these examples in
parallel under your choice of free software license, such as the GNU General Public License, to permit their
use in free software.

Curso de PERL âˆ’

www.kobkob.org


